

//////////////// http://alpha.editor.p5js.org/generative-design/sketches/P_2_1_3_01

var count = 0;
var tileCountX = 10;
var tileCountY = 10;
var tileWidth  = 0;
var tileHeight = 0;

var colorStep = 15;

var circleCount = 0;
var endSize = 0;
var endOffset = 0;

var actRandomSeed = 0;

function setup()
{
    createCanvas(800, 800);
    tileWidth = width / tileCountX;
    tileHeight = height / tileCountY;
    noFill();
    stroke(0, 128);
}

function draw()
{
    background(255);
    randomSeed(actRandomSeed);

    translate(tileWidth / 2, tileHeight / 2);

    circleCount = mouseX / 30 + 1;
    endSize = map(mouseX, 0, max(width, mouseX), tileWidth / 2, 0);
    endOffset = map(mouseY, 0, max(height, mouseY), 0, (tileWidth - endSize) / 2);

    for (var gridY = 0; gridY <= tileCountY; gridY++)
    {
        for (var gridX = 0; gridX <= tileCountX; gridX++)
        {
            push();
            translate(tileWidth * gridX, tileHeight * gridY);
            scale(1, tileHeight / tileWidth);

            var toggle = int(random(0, 4));
            if (toggle == 0) rotate(-HALF_PI);
            if (toggle == 1) rotate(0);
            if (toggle == 2) rotate(HALF_PI);
            if (toggle == 3) rotate(PI);

            // draw module
            for (var i = 0; i < circleCount; i++)
            {
                var diameter = map(i, 0, circleCount, tileWidth, endSize);
                var offset = map(i, 0, circleCount, 0, endOffset);
                ellipse(offset, 0, diameter, diameter);
            }
            pop();
        }
    }
}

function mousePressed()
{
    actRandomSeed = random(100000);
}

function keyReleased()
{
    if (key == 's' || key == 'S') saveCanvas(gd.timestamp(), 'png');
}




//////////////// http://alpha.editor.p5js.org/generative-design/sketches/P_2_1_2_04

var tileCount = 20;
var actRandomSeed = 0;

var rectSize = 30;

function setup()
{
    createCanvas(600, 600);
    colorMode(HSB, 360, 100, 100, 100);
    noStroke();
    fill(192, 100, 64, 60);
}

function draw()
{
    clear();

    randomSeed(actRandomSeed);

    for (var gridY = 0; gridY < tileCount; gridY++)
    {
        for (var gridX = 0; gridX < tileCount; gridX++)
        {

            var posX = width / tileCount * gridX;
            var posY = height / tileCount * gridY;

            var shiftX1 = mouseX / 20 * random(-1, 1);
            var shiftY1 = mouseY / 20 * random(-1, 1);
            var shiftX2 = mouseX / 20 * random(-1, 1);
            var shiftY2 = mouseY / 20 * random(-1, 1);
            var shiftX3 = mouseX / 20 * random(-1, 1);
            var shiftY3 = mouseY / 20 * random(-1, 1);
            var shiftX4 = mouseX / 20 * random(-1, 1);
            var shiftY4 = mouseY / 20 * random(-1, 1);

            push();
            translate(posX, posY);
            beginShape();
            vertex(shiftX1, shiftY1);
            vertex(rectSize + shiftX2, shiftY2);
            vertex(rectSize + shiftX3, rectSize + shiftY3);
            vertex(shiftX4, rectSize + shiftY4);
            endShape();
            pop();
        }
    }
}

function mousePressed()
{
    actRandomSeed = random(100000);
}

function keyReleased()
{
    if (key == 's' || key == 'S') saveCanvas(gd.timestamp(), 'png');
}
